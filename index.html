<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>GitHub VPS UI</title>
<style>
    body {
        background-color: #0d0d0d;
        color: #00ff99;
        font-family: 'Courier New', monospace;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: flex-start;
        min-height: 100vh;
        margin: 0;
        padding: 40px;
    }

    h1 {
        color: #00ffcc;
        text-shadow: 0 0 10px #00ffcc;
        margin-bottom: 20px;
    }

    input {
        background: #111;
        border: 2px solid #00ffcc;
        color: #00ffcc;
        padding: 10px;
        width: 320px;
        font-size: 16px;
        outline: none;
        border-radius: 6px;
    }

    input:focus {
        border-color: #00ffaa;
        box-shadow: 0 0 10px #00ffaa;
    }

    button {
        background: #00ff99;
        border: none;
        color: #111;
        padding: 10px 20px;
        margin-top: 15px;
        cursor: pointer;
        font-weight: bold;
        font-size: 16px;
        border-radius: 6px;
        transition: all 0.2s ease-in-out;
    }

    button:hover {
        background: #00ffaa;
        transform: scale(1.05);
        box-shadow: 0 0 15px #00ffaa;
    }

    #status {
        background: #111;
        border: 2px solid #00ff99;
        padding: 15px;
        margin-top: 30px;
        width: 90%;
        max-width: 800px;
        height: 400px;
        overflow-y: auto;
        white-space: pre-wrap;
        border-radius: 8px;
        box-shadow: inset 0 0 20px #00ff99;
    }

    /* Terminal effect */
    #status::before {
        content: "root@vps:~$ ";
        color: #00ffaa;
        font-weight: bold;
    }

    .log-line {
        display: block;
        margin: 2px 0;
    }

    .success { color: #00ffcc; }
    .error { color: #ff5555; }
    .warn { color: #ffaa00; }
    .info { color: #00ff99; }
</style>
</head>
<body>
    <h1>‚ö° GitHub VPS Manager</h1>
    <input type="text" id="token" placeholder="üîë Enter GitHub Token">
    <br>
    <button onclick="createRepo()">üöÄ Create VPS</button>
    <div id="status"></div>

<script>
function addLog(msg, type="info") {
    const statusDiv = document.getElementById('status');
    const line = document.createElement("span");
    line.classList.add("log-line", type);
    line.textContent = msg;
    statusDiv.appendChild(line);
    statusDiv.appendChild(document.createElement("br"));
    statusDiv.scrollTop = statusDiv.scrollHeight;
}

async function createRepo() {
    const token = document.getElementById('token').value.trim();
    const statusDiv = document.getElementById('status');
    statusDiv.innerHTML = "";

    if (!token) {
        addLog("‚ùå Please enter GitHub token", "error");
        return;
    }

    addLog("üîë Sending request to API...", "info");

    try {
        const response = await fetch('https://api-1-c8cj.onrender.com/api', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ github_token: token })
        });

        const data = await response.json();

        if (data.logs) {
            data.logs.forEach(line => {
                let type = "info";
                if (line.includes("‚ùå")) type = "error";
                else if (line.includes("‚ö†Ô∏è")) type = "warn";
                else if (line.includes("‚úÖ")) type = "success";
                addLog(line, type);
            });
        }

        if (data.status === "success") {
            addLog("\nüéâ VPS ready! Remote.txt content:\n" + data.remote_content, "success");
        } else {
            addLog("\n‚ùå Error: " + (data.error || "Unknown error"), "error");
        }

    } catch (err) {
        addLog("‚ùå Error calling API: " + err, "error");
    }
}
</script>
</body>
</html>
