<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>GitHub VPS UI</title>
<style>
body { font-family: Arial; margin: 50px; }
input, button { padding: 8px; margin: 5px 0; width: 300px; }
#status { margin-top: 20px; white-space: pre-wrap; }
</style>
</head>
<body>
<h1>Create VPS via GitHub Token</h1>
<input type="text" id="token" placeholder="Enter GitHub Token">
<br>
<button onclick="createRepo()">Create</button>
<div id="status"></div>

<script>
async function createRepo() {
    const token = document.getElementById('token').value.trim();
    if (!token) {
        alert("Please enter GitHub token");
        return;
    }
    const statusDiv = document.getElementById('status');
    statusDiv.textContent = "Creating...";

    try {
        const response = await fetch('https://api-1-c8cj.onrender.com/api', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ github_token: token })
        });
        const data = await response.json();
        if (data.status === "success") {
            statusDiv.textContent = "Remote.txt content:\n" + data.remote_content;
        } else {
            statusDiv.textContent = "Error:\n" + JSON.stringify(data, null, 2);
        }
    } catch (err) {
        statusDiv.textContent = "Error calling API:\n" + err;
    }
}
</script>
</body>
</html>
